import"./common-dBFvgQiY.js";const r="https://oasis-inn.backlog.com/api/v2",a="rc57YrOQFnfP11Rde8rcnV1Wj9DxKfaahjKngY6HMNNgYJS2yfCmbpkSvmCHpvmz",c="601236";document.addEventListener("DOMContentLoaded",()=>{d()});function d(){const t=document.getElementById("login-button"),n=document.getElementById("login-id");document.getElementById("error-message"),t.addEventListener("click",e=>{e.preventDefault();const s=n.value.trim();if(!s){o("ログインIDを入力してください。");return}l(s)})}function l(t){const n=`${r}/projects/${c}/users?apiKey=${a}`;fetch(n).then(e=>e.json()).then(e=>m(e,t)).catch(e=>u(e))}function m(t,n){const e=t.find(s=>s.mailAddress.split("@")[0]===n);if(e){sessionStorage.setItem("userId",e.id),sessionStorage.setItem("userName",e.name);const i=`/assets/sounds/usertones/${n.replace(/\./g,"_")}.mp3`;sessionStorage.setItem("userSound",i),window.location.href="status.html"}else o("ログインIDが一致しません。")}function o(t){const n=document.getElementById("error-message");n.textContent=t,n.classList.remove("hidden")}function u(t){console.error("APIリクエストエラー:",t),o("システムエラーが発生しました。")}
