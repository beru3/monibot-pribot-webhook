@echo off
REM =======================================================
REM Webhookã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆY/Nç¢ºèªå®Œå…¨å›žé¿ç‰ˆï¼‰
REM =======================================================

REM æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚’UTF-8ã«è¨­å®š
chcp 65001 > nul

REM ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd /d C:\Users\monibot\Desktop\wk\MoniBot\webhook_root

echo ========================================
echo   Webhookã‚µãƒ¼ãƒãƒ¼èµ·å‹•ä¸­...
echo ========================================
echo.
echo ðŸ“‹ ã‚µãƒ¼ãƒãƒ¼è¨­å®š:
echo    ãƒ›ã‚¹ãƒˆå: SVR-MONIBOT
echo    IPã‚¢ãƒ‰ãƒ¬ã‚¹: 192.168.250.220
echo    å¾…å—ãƒ›ã‚¹ãƒˆ: 0.0.0.0 (å…¨IPå¯¾å¿œ)
echo    ãƒãƒ¼ãƒˆ: 5000
echo    ã‚¹ãƒ¬ãƒƒãƒ‰æ•°: 8
echo.
echo ðŸŒ ã‚¢ã‚¯ã‚»ã‚¹URL (SVR-MONIBOT):
echo    ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰: http://192.168.250.220:5000/webhook_monitor
echo    ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: http://192.168.250.220:5000/webhook_client
echo    Webhookã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ: http://192.168.250.220:5000/webhook/new_ticket
echo.
echo ðŸŒ ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ã‚¯ã‚»ã‚¹URL:
echo    ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰: http://localhost:5000/webhook_monitor
echo    ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ: http://localhost:5000/webhook_client
echo    Webhookã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ: http://localhost:5000/webhook/new_ticket
echo.
echo ðŸš€ ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¾ã™...
echo    ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ã‚‹ã¨ã‚µãƒ¼ãƒãƒ¼ãŒåœæ­¢ã—ã¾ã™
echo.
echo ========================================

REM waitressã§ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆ1ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç‰ˆï¼‰
python -m waitress --host=0.0.0.0 --port=5000 --threads=8 webhook_server:app

REM ã‚µãƒ¼ãƒãƒ¼åœæ­¢æ™‚ã®å‡¦ç†ï¼ˆè‡ªå‹•ã§åˆ°é”ï¼‰
echo.
echo ========================================
echo   ã‚µãƒ¼ãƒãƒ¼ãŒåœæ­¢ã—ã¾ã—ãŸ
echo ========================================
echo.
echo 3ç§’å¾Œã«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ã¾ã™...
timeout /t 3 /nobreak >nul
exit